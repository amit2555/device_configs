hostname site1-pod1-leaf1
!
service timestamps debug datetime msec
service timestamps log datetime msec
service password-encryption
!
aaa new-model
aaa authentication login TACACS group tacacs+ local
!
username test123 privilege 15 password test123
!
ip name-server 1.1.1.1
ip name-server 2.2.2.2
!
ip domain name test.com
!
tacacs-server host 1.1.1.1 key SecretKey
tacacs-server host 2.2.2.2 key SecretKey
!
ip ssh version 2
!
!
interface Loopback0
 description Management Interface
 ip address 10.0.1.0 255.255.255.255
 ip ospf 1 area 0
!
interface GigabitEthernet2/0
 description leaf1 to spine1 
 ip address 10.0.0.0 255.255.255.254
 ip ospf 1 network point-to-point
 ip ospf 1 cost 1000
 ip ospf 1 area 0
 no shutdown
!
interface GigabitEthernet4/0
 description leaf1 to spine2 
 ip address 10.0.0.2 255.255.255.254
 ip ospf 1 network point-to-point
 ip ospf 1 cost 1000
 ip ospf 1 area 0
 no shutdown
!
interface port-channel1
 description TOR1
 ip address 10.0.0.254 255.255.255.254
 no shutdown
!
interface GigabitEthernet1/0
 description leaf1 to TOR1
 channel-group 1
 no shutdown
!
interface GigabitEthernet3/0
 description leaf1 to TOR1
 channel-group 1
 no shutdown
!
interface port-channel2
 description TOR2
 ip address 10.0.0.252 255.255.255.254
 no shutdown
!
interface GigabitEthernet5/0
 description leaf1 to TOR2
 channel-group 2
 no shutdown
!
interface GigabitEthernet7/0
 description leaf1 to TOR2
 channel-group 2
 no shutdown
!

router bgp 100
 neighbor IBGP peer-group
 neighbor IBGP remote-as 100
 neighbor IBGP update-source Loopback0
 neighbor IBGP next-hop-self
 neighbor 10.0.1.1 peer-group IBGP
 neighbor 10.0.1.1 description leaf2
 neighbor 10.0.1.2 peer-group IBGP
 neighbor 10.0.1.2 description leaf3
 neighbor 10.0.1.3 peer-group IBGP
 neighbor 10.0.1.3 description leaf4
 neighbor 10.0.1.4 peer-group IBGP
 neighbor 10.0.1.4 description spine1
 neighbor 10.0.1.5 peer-group IBGP
 neighbor 10.0.1.5 description spine2
 neighbor 10.0.0.255 remote-as 65100
 neighbor 10.0.0.255 description TOR1
 neighbor 10.0.0.253 remote-as 65200
 neighbor 10.0.0.253 description TOR2
!
!
line con 0
 logging synchronous
 privilege level 15
!
line vty 0 4
 login authentication TACACS
 no exec-timeout
 transport input all
 transport output none
!
ntp server 4.4.4.4 source Loopback0
!